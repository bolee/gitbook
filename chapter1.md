# 第二章 数据模型

主要是针对`model`类型，包含三种：`JSON`、自定义和界面布局模型。

## 一、JSON数据模型
一般是通过第三方包对服务器返回数据进行解析到`model`，属性可以通用处理，需要支持编码和解码以便保存到数据库或磁盘文件做缓存。

1. 属性名不能与保留字冲突，虽然可以编译但是不利于区分，可以在模型框架里面设置映射参数。

2. 在复制操作时候，默认是浅拷贝，导致在更改时候会直接修改到源数据值，如深拷贝需要实现`NSCopying`协议方法进行修改。

3. 模型命名遵循基本命名规范，可以添加`model`做后缀名以便统一区分。

4. `model`层应该包含网络请求和缓存数据处理，对外暴露是获取数据和操作数据，数据来源应该是透明的。

5. 如果需要使用泛型模式，可以通过协议功能，只需要实现该协议即可，否则会出现大量的警告信息

6. 针对同一个项目数据来源，后台一般具有通用格式，可以使用基础`model`统一继承。

## 二、数据库模型

本地缓存数据库，如`sqlite`和`Realm`缓存数据，需要将`mode`和数据库交互部分封装对外透明，建议加一层中间层，可以切换缓存类型不影响业务层的使用。

## 三、UI布局数据模型

1. 在比较复杂的界面布局时候可以使用model做辅助，可以将布局和计算逻辑分开，定义一定的规则即可适配大部分的布局调整。

2. 在做大量数据数据界面布局时候，也可以将布局模型进行缓存处理，减少计算量加快渲染速度。
